<a href="https://github.com/kaosborn/KaosPhysics/blob/master/.github/workflows/Test.yml">
<img src="https://github.com/kaosborn/KaosPhysics/workflows/Test/badge.svg"></a>

# KaosPhysics

KaosPhysics started with the `Elements.html` page
 - an interactive and internationalized Periodic Table of the Elements.
It became necessary to model the required data in a strongly-typed environment so C# was chosen.
The .NET codebase generates JSON for the nuclides table and HTML for the tables themselves.

The term 'nuclides' is used for the elements list because it includes the neutron at index 0, followed by hydrogen, etc.
This means that an element's atomic number may serve as an index into the nuclides list of C# or JSON.

### Folder contents

* Pages folder

The `Elements.html` file is an HTML/RSS/JavaScript page that displays the Periodic Table of the Elements.
Stable versions may be found here:

https://kaosborn.github.io/posts/Elements.html

The goals of this page are:

* Display the Periodic Table of the Elements in either standard, 32-column, or left-step format.
* Provide a plethora of switchable themes.
* Provide full support for multiple languages, including English variants.
* Detect user language on page load for best fit initial setting.
* Use responsive CSS to provide basic functionality even without JavaScript.
* Limit to a self-contained, single file with no dependencies - installation by copying one file.

#### `DotGenJson` folder

This folder contains a .NET Core project that builds `DotGenJson.exe` for generating a `.json` file of nuclide data.

* The included nuclides table is pasted into `Elements.html` for all its elemental data.
* Provides full translations of element names for de, en, en-GB, en-US, es, it, ru.

#### `DotElements` folder

The contained .NET Core project builds the `DotElements.exe` program.
This program outputs a compact fixed column listing of the elements followed by a fixed-column listing of their isotopes.
The program may be provided with a language argument to show element names other than English.

#### `Source` folder

The Source folder contains the C# source to the class libary defined in the Kaos.Physics namespace.

This library consists of two classes:

* The `Nuclide` class. This includes the static `Table` collection which includes the 118 elements and the neutron with their isotopes.
* The `Isotope` class.

#### `TestCore` folder

The TestCore folder contains a MSTest project that ensures the nuclides table hasn't gotten munged.

### JSON Data

Here is an excerpt from the generated `.json` file generated by `DotGenJson.exe`:

```json
  "nuclides":
  [
    { "z":  0, "symbol": "n",  "period": 0, "group": 0, "categoryIndex": 7, "block": " ", "occurrenceIndex": 1, "lifeIndex": 0, "discoveryYear": 1932, "discoveryIndex": 4, "atm0StateIndex": 0, "melt":     null, "boil":     null, "weight":   1.0080, "stableCount": 0, "stabilityIndex": 4, "isotopes": [[1,100,2,610.1]] },
    { "z":  1, "symbol": "H",  "period": 1, "group": 1, "categoryIndex": 7, "block": "s", "occurrenceIndex": 2, "lifeIndex": 1, "discoveryYear": 1766, "discoveryIndex": 1, "atm0StateIndex": 3, "melt":  13.9900, "boil":  20.2710, "weight":   1.0080, "stableCount": 2, "stabilityIndex": 0, "isotopes": [[1,99.98],[2,0.02],[3,0,4,388789632]] },
    { "z":  2, "symbol": "He", "period": 1, "group":18, "categoryIndex": 9, "block": "s", "occurrenceIndex": 2, "lifeIndex": 0, "discoveryYear": 1868, "discoveryIndex": 2, "atm0StateIndex": 3, "melt":   0.9500, "boil":   4.2220, "weight":   4.0026, "stableCount": 2, "stabilityIndex": 0, "isotopes": [[3,0.0002],[4,99.9998]] }
  ]
```

Objects with index values require decoding into other arrays. These arrays are also provided by the JSON generator.
Isotopes are an array of an array:

* Stable isotopes are an array with 2 elements: atomic mass (A) and abundance as a percentage.
* Radioactive isotopes append 2 more values: the decay mode flags and halflife. See tritium (A=3) for an example.

Nuclide name translations are available. Here is another excerpt from the 119 nuclides:

```json
  "lang-de"   : [ "Neutron",  "Wasserstoff", "Helium" ],
  "lang-en"   : [ "Neutron",  "Hydrogen",    "Helium" ],
  "lang-en-GB": [ "Neutron",  "Hydrogen",    "Helium" ],
  "lang-en-US": [ "Neutron",  "Hydrogen",    "Helium" ],
  "lang-es"   : [ "Neutrón",  "Hidrógeno",   "Helio", ],
  "lang-fr"   : [ "Neutron",  "Hydrogène",   "Hélium" ],
  "lang-it"   : [ "Neutrone", "Hydrogène",   "Elio"   ],
  "lang-ru"   : [ "Водород",  "Нейтрон",     "Гелий"  ],
```

Note that all columns align for easy visual translation.

### C# Data

The source data for JSON is the KaosPhysics C# shared project.
Here is an excerpt:

```cs
public static Nuclide Hydrogen { get; } = new Nuclide
(
    z: 1, symbol: "H", name: nameof (Hydrogen), category: Category.Nonmetal, period: 1, group: 1,
    melt: 13.99, boil: 20.271,
    weight: 1.008,
    occurrence: Origin.Primordial,
    life: Nutrition.BulkEssential,
    known: 1766, credit: "Henry Cavindish",
    naming: "From Greek, meaning water-former",
    isotopes: new Isotope[] { new Isotope (1, 99.98), new Isotope (2, 0.02), new Isotope (3, 0.0, 12.32*365.25*24*3600, Decay.BetaMinus) },
    nameMap: new Dictionary<string,string> { { "de","Wasserstoff" }, { "es","Hidrógeno" }, { "fr","Hydrogène" }, { "it","Hydrogène" }, { "ru","Нейтрон" } }
);
```
This singleton may be accessed directly or will most likely be accessed with `Nuclides.Table[1]`.

Nuclide name translations are provided by the `nameMap` dictionary constructor parameter.
If no entry exists for a language, then the default `name` is used.
